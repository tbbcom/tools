/*! TBB Currency Converter (min) */
!function(e,t){"use strict";var n=["thebukitbesi.com","localhost","127.0.0.1"],o=!1,a=36e5,r="tbbx_cc_cache_v1",i=function(e,n){return(n||t).querySelector(e)},c=function(e,n){return Array.from((n||t).querySelectorAll(e))};function l(){if(!o)return!0;var e=(e.location&&e.location.hostname||"").toLowerCase().replace(/^www\./,"");for(var t=0;t<n.length;t++){var r=n[t].toLowerCase();if(e===r||e.endsWith("."+r))return!0}return!1}function s(e){return String(e).replace(/[&<>"']/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[e]}))}function u(){try{return JSON.parse(localStorage.getItem(r)||"{}")}catch(e){return{}}}function d(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}}var f={BHD:3,KWD:3,OMR:3,TND:3,JOD:3,LYD:3,IQD:3,JPY:0,KRW:0,VND:0,CLP:0,PYG:0,RWF:0,UGX:0,XAF:0,XOF:0,XPF:0,MGA:0,MRO:0,MRU:2,DEFAULT:2};function p(e){return null!=f[e]?f[e]:f.DEFAULT}function v(e,t){var n=p(t);return Number(e).toLocaleString(void 0,{maximumFractionDigits:n,minimumFractionDigits:0})}function m(e,t){var n=p(t);return Number(e).toFixed(Math.min(6,Math.max(n,2)))}var h={host:{name:"exchangerate.host",symbols:"https://api.exchangerate.host/symbols",latest:function(e){return"https://api.exchangerate.host/latest?base="+encodeURIComponent(e)},rate:function(e,t){return"https://api.exchangerate.host/convert?from="+encodeURIComponent(e)+"&to="+encodeURIComponent(t)}},frank:{name:"frankfurter",symbols:"https://api.frankfurter.dev/currencies",latest:function(e){return"https://api.frankfurter.dev/latest?from="+encodeURIComponent(e)},rate:function(e,t){return"https://api.frankfurter.dev/latest?from="+encodeURIComponent(e)+"&to="+encodeURIComponent(t)}}},g={base:"USD",date:"2025-01-01",rates:{MYR:4.2,SGD:1.34,EUR:.9,IDR:15500,JPY:155,GBP:.78}},y={en:{title:"ðŸ’± TBB Currency Converter â€” Fast, Accurate, Ad-Free",amount:"Amount",from:"From",to:"To",convert:"Convert",swap:"Swap",quick:"Quick:",options:"Options",provider:"Provider",provider_host:"exchangerate.host",provider_frank:"Frankfurter (ECB)",provider_auto:"Auto (Best)",cache:"Cache rates in this browser",invert:"Show inverse rate",help:"Client-side only. ISO-accurate rounding. No tracking.",copying:"Copied!",copyfail:"Copy failed",linkcopied:"Link copied!",converting:"Convertingâ€¦",unavailable:"Rate unavailable. Try other provider.",clipboard_label:"Copy",share_label:"Share"},ms:{title:"ðŸ’± Penukar Mata Wang TBB â€” Pantas, Tepat, Tanpa Iklan",amount:"Amaun",from:"Dari",to:"Ke",convert:"Tukar",swap:"Tukar Arah",quick:"Pantas:",options:"Tetapan",provider:"Penyedia",provider_host:"exchangerate.host",provider_frank:"Frankfurter (ECB)",provider_auto:"Auto (Terbaik)",cache:"Cache kadar dalam pelayar ini",invert:"Tunjuk kadar songsang",help:"100% sisi-klien. Pembundaran ISO yang tepat. Tiada penjejakan.",copying:"Disalin!",copyfail:"Salin gagal",linkcopied:"Pautan disalin!",converting:"Menukarâ€¦",unavailable:"Kadar tidak tersedia. Cuba penyedia lain.",clipboard_label:"Salin",share_label:"Kongsi"}};function b(){l()&&c('.tbbx-cc-wrap[data-ready!="1"]').forEach(S)}async function S(e){e.setAttribute("data-ready","1");var t=(e.getAttribute("data-lang")||"en").toLowerCase(),n=y[t]||y.en,o=i(".tbbx-amt",e),r=i(".tbbx-from",e),c=i(".tbbx-to",e),l=i(".tbbx-out",e),f=i(".tbbx-rateinfo",e),p=i(".tbbx-convert",e),b=i(".tbbx-swap",e),S=i(".tbbx-provider",e),x=i(".tbbx-cache",e),E=i(".tbbx-invert",e),k=i(".tbbx-copy",e),C=i(".tbbx-share",e),L=i(".tbbx-cc-title",e),w=i(".tbbx-help",e),T=i(".tbbx-quick-label",e),q=i(".tbbx-provider-label",e);L&&(L.textContent=n.title),T&&(T.textContent=n.quick),q&&(q.textContent=n.provider),cAll(e,".tbbx-label-amount",n.amount),cAll(e,".tbbx-label-from",n.from),cAll(e,".tbbx-label-to",n.to),p&&(p.textContent=n.convert),b&&b.setAttribute("title",n.swap),i('option[value="host"]',e)&&(i('option[value="host"]',e).textContent=n.provider_host),i('option[value="frank"]',e)&&(i('option[value="frank"]',e).textContent=n.provider_frank),i('option[value="auto"]',e)&&(i('option[value="auto"]',e).textContent=n.provider_auto),i(".tbbx-cache-label",e)&&(i(".tbbx-cache-label",e).textContent=n.cache),i(".tbbx-invert-label",e)&&(i(".tbbx-invert-label",e).textContent=n.invert),w&&(w.textContent=n.help),k&&(k.textContent=n.clipboard_label),C&&(C.textContent=n.share_label);var D=await async function(e){for(var t=0;t<e.length;t++){var n=e[t];try{if("host"===n){var o=await F(h.host.symbols),a=Object.keys(o.symbols||{}).map((function(e){return{code:e,name:o.symbols[e].description}}));if(a.length)return a}else{var r=await F(h.frank.symbols),i=Object.keys(r||{}).map((function(e){return{code:e,name:r[e]}}));if(i.length)return i}}catch(e){}}return[{code:"USD",name:"US Dollar"},{code:"MYR",name:"Malaysian Ringgit"},{code:"SGD",name:"Singapore Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"IDR",name:"Indonesian Rupiah"},{code:"GBP",name:"British Pound"}]}(("frank"===(null==S?void 0:S.value))?["frank","host"]:["host","frank"]);!function(e,t,n){if(!e)return;var o=t.filter((function(e){return(n||[]).includes(e.code)})),a=t.filter((function(e){return!(n||[]).includes(e.code)})).sort((function(e,t){return e.code.localeCompare(t.code)}));e.innerHTML=[].concat(o,a).map((function(e){return'<option value="'+e.code+'">'+e.code+" â€” "+s(e.name)+"</option>"})).join("")}(r,D,["MYR","USD","SGD","EUR","JPY"]),function(e,t,n){if(!e)return;var o=t.filter((function(e){return(n||[]).includes(e.code)})),a=t.filter((function(e){return!(n||[]).includes(e.code)})).sort((function(e,t){return e.code.localeCompare(t.code)}));e.innerHTML=[].concat(o,a).map((function(e){return'<option value="'+e.code+'">'+e.code+" â€” "+s(e.name)+"</option>"})).join("")}(c,D,["USD","MYR","SGD","EUR","JPY"]),"ms"===t?(r.value="MYR",c.value="USD"):(r.value="USD",c.value="MYR"),o&&(o.value="100"),p&&p.addEventListener("click",A,{passive:!0}),b&&b.addEventListener("click",j,{passive:!0}),[r,c].forEach((function(e){e&&e.addEventListener("change",A,{passive:!0})})),o&&o.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),A())}),{passive:!1}),c(".tbbx-chip",e).forEach((function(e){e.addEventListener("click",(function(){o.value=e.getAttribute("data-amt"),A()}),{passive:!0})})),S&&S.addEventListener("change",(function(){localStorage.setItem("tbbx_provider",S.value),A()}),{passive:!0}),E&&E.addEventListener("change",A,{passive:!0}),k&&k.addEventListener("click",P,{passive:!0}),C&&C.addEventListener("click",H,{passive:!0}),"requestIdleCallback"in e?e.requestIdleCallback(A,{timeout:1200}):setTimeout(A,0);async function F(e){var t=await fetch(e,{mode:"cors",cache:"no-store"});if(!t.ok)throw new Error("HTTP "+t.status);return await t.json()}async function O(e,t,n){var o=Date.now(),l=(n||"auto")+":"+e+"->"+t,s=u();if((null==x?void 0:x.checked)&&s[l]&&o-s[l].ts<a)return{rate:s[l].rate,date:s[l].date,provider:s[l].provider,cached:!0};for(var f="frank"===n?["frank"]:"host"===n?["host"]:["host","frank"],p=0;p<f.length;p++){var y=f[p];try{if("host"===y){var g=await F(h.host.rate(e,t)),b=Number(g.result);if(!isFinite(b)||b<=0)throw 0;var S=(g.date||"").slice(0,10);return(null==x?void 0:x.checked)&&(s[l]={rate:b,date:S,provider:y,ts:o},d(s)),{rate:b,date:S,provider:y,cached:!1}}var C=await F(h.frank.rate(e,t)),L=Number(C.rates?.[t]);if(!isFinite(L)||L<=0)throw 0;var w=(C.date||"").slice(0,10);return(null==x?void 0:x.checked)&&(s[l]={rate:L,date:w,provider:y,ts:o},d(s)),{rate:L,date:w,provider:y,cached:!1}}catch(e){}}var T=g.base,q=1;return e===t?q=1:e===T&&g.rates[t]?q=g.rates[t]:t===T&&g.rates[e]?q=1/g.rates[e]:g.rates[e]&&g.rates[t]&&(q=g.rates[t]/g.rates[e]),isFinite(q)?{rate:q,date:g.date,provider:"embedded",cached:!0}:function(){throw new Error("no-embed")}()}async function A(){if(o&&r&&c&&l){var t=r.value,n=c.value,a=Math.max(0,Number(o.value||0));if(t&&n&&isFinite(a)){l.textContent=n.converting;try{var s=(i(".tbbx-provider",e)?.value)||localStorage.getItem("tbbx_provider")||"auto",u=await O(t,n,s),d=(i(".tbbx-invert",e)?.checked?1/u.rate:u.rate)*a;l.textContent=v(a,t)+" "+t+" = "+v(d,n)+" "+n,f&&(f.textContent="Rate: 1 "+t+" = "+m(i(".tbbx-invert",e)?.checked?1/u.rate:u.rate,n)+" "+n+" ("+u.provider+(u.cached?" â€¢ cached":"")+" â€¢ "+(u.date||"today")+")"),l.setAttribute("data-raw",String(d))}catch(e){l.textContent=n.unavailable,f&&(f.textContent="")}}}}function j(){var e=r.value;r.value=c.value,c.value=e,A()}async function P(){try{await navigator.clipboard.writeText(l.textContent+(f?" ("+f.textContent+")":"")),R(n.copying)}catch(e){R(n.copyfail)}}async function H(){var t=l.textContent+" â€¢ "+(f?f.textContent:""),n=e.location.href.split("#")[0];try{navigator.share?await navigator.share({title:"Currency Converter",text:t,url:n}):(await navigator.clipboard.writeText(t+" "+n),R(n.linkcopied))}catch(e){}}function R(n){var o=t.getElementById("tbbx-toast");o||(o=t.createElement("div"),o.id="tbbx-toast",o.style.cssText="position:fixed;inset:auto 12px 12px auto;background:var(--tbbx-fg);color:var(--tbbx-bg);padding:8px 12px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.2);z-index:9999;font:inherit;transition:opacity .25s",t.body.appendChild(o)),o.textContent=n,o.style.opacity="1",clearTimeout(o._id),o._id=setTimeout((function(){o.style.opacity="0"}),1400)}function cAll(e,t,n){Array.from(e.querySelectorAll(t)).forEach((function(e){e.textContent=n}))}} "requestIdleCallback"in e?e.requestIdleCallback(b,{timeout:1200}):e.addEventListener("DOMContentLoaded",b,{once:!0})}(window,document);
